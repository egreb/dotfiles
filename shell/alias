alias dev="~/dev"
alias gri="git ls-files --ignored --exclude-standard | xargs -0 git rm -r" # fucked up .gitignore? run gri
alias fix="git diff --name-only | uniq | xargs code"                       # open code to merge conflicts
alias gs="git status"
alias gst="git status"
alias gp="git push"
alias reload="source ~/.zshrc"
alias rmf="rm -rf"
alias vim="nvim"
alias a="php artisan"
alias alert='notify-send --urgency=low -i "$([ $? = 0 ] && echo terminal || echo error)" "$(history|tail -n1|sed -e '\''s/^\s*[0-9]\+\s*//;s/[;&|]\s*alert$//'\'')"'
alias work='cd ~/code/work'
alias c='cd ~/code'
alias gfetch='g fetch --all'
alias exal="exa -l"
alias proj="cd ~/code/projects"
alias pj="cd ~/code/projects"
alias es="exa"
alias el="exa -l"
alias gcbrun="gh pr comment -b '/gcbrun'"
alias open_pr="gh pr view -w"
alias opr="open_pr"
alias vpr="open_pr"
alias create_pr="gh pr create -w"
alias cpr="create_pr"
alias delete_merged="git branch -d $(git branch --merged | egrep -v '(^\*|master|main|dev)')"
alias pm="pnpm"

# alias for using fzf to switch git branch
alias fcb='g co $(g branch | fzf)'

# easy switch worktree and change tmux window name
function swt() {
  foo=$(git worktree list | fzf)
  dir=$(echo $foo | awk '{split($0,a); print $1}')
  branch=$(echo $foo | awk '{split($0,a); print $3}')

  tmux new-window -n $branch -c $dir
}

alias l="exa -l --icons --git -a"
alias lt="exa --tree --level=2 --long --icons --git"

function t() {
  # Defaults to 3 levels deep, do more with `t 5` or `t 1`
  # pass additional args after
  tree -I '.git|node_modules|bower_components|.DS_Store' --dirsfirst --filelimit 15 -L ${1:-3} -aC $2
}


if docker version >/dev/null 2>&1; then
  alias dsa="docker container stop $(docker container ls -aq)"
  alias stop-containers="docker container stop $(docker container ls -aq)"
fi
